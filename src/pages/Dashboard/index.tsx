import { useEffect } from "react";
import birthday from "../../assets/Birthday Banner.png";
import birthday2 from "../../assets/Birthday Banner2.png";
import { useQuery } from "@tanstack/react-query";
import { getBirthday } from "../../api/authServices";
import { getAttendanceSummary } from "../../api/attendanceServices";
import LineChart from "../../Components/LineChart";
import { Icon } from "@iconify/react";
import { getAllEvents } from "../../api/eventsServices";
import dayjs from "dayjs";
export default function DashBoard() {
  const { data } = useQuery({
    queryKey: ["Birthday"],
    queryFn: getBirthday,
    staleTime: 5 * 60 * 1000,
  });
  let birthdayData = data?.data?.data;
  const { data: summary } = useQuery({
    queryKey: ["getAttendanceSummary"],
    queryFn: getAttendanceSummary,
    staleTime: 5 * 60 * 1000,
  });

  const { data: Events } = useQuery({
    queryKey: ["AllEvents"],
    queryFn: () => getAllEvents(),
    staleTime: 5 * 60 * 1000,
  });
  const AllEvents = Events?.data || [];

  const today = new Date();

  const upcomingEvent = AllEvents.filter(
    (event: any) => new Date(event.date) >= today
  ).sort(
    (a: any, b: any) => new Date(a.date).getTime() - new Date(b.date).getTime()
  )[0];

  useEffect(() => {
    document.title = "HR-Management | DashBoard";
  }, []);
  return (
    <>
      {birthdayData && birthdayData.length > 0 && (
        <div className="relative">
          <img
            src={birthday}
            className="hidden w-full lg:block lg:h-60 2xl:h-60"
          />
          <img src={birthday2} className="block w-full lg:hidden" />
          <div className="absolute z-1 md:top-[40%] top-[20%] lg:left-[12%] md:left-[3%] left-[8%]">
            <div className="w-full text-base text-white lg:text-3xl md:text-xl">
              It’s{" "}
              <strong>
                {birthdayData.map((v: any, index: number) => (
                  <span key={v._id}>
                    {v.name}
                    {index < birthdayData.length - 1 ? ", " : ""}
                  </span>
                ))}{" "}
                Birthday{" "}
              </strong>
              Today{" "}
            </div>{" "}
            <p className="md:w-full w-[60%] text-xs text-white lg:text-base lg:w-200">
              You have {birthdayData.length} birthday today, post on the social
              handle and also celebrate in the office.
            </p>
          </div>
        </div>
      )}
      <div
        style={{ scrollbarWidth: "none", msOverflowStyle: "none" }}
        className={`bg-[#F7F7F7] overflow-x-auto h-auto rounded-xl p-4 mt-3 
    ${
      birthdayData && birthdayData.length > 0
        ? "2xl:h-[calc(62vh-0px)] xl:h-[calc(43.8vh-0px)]"
        : "2xl:h-[calc(88.7vh-0px)] xl:h-[calc(83vh-0px)]"
    }`}
      >
        <div className="flex flex-wrap items-center gap-3">
          <div className="bg-white rounded-2xl lg:w-[calc(20%-9.6px)] md:w-[calc(50%-6px)] w-full flex flex-col justify-between h-35 p-4">
            <div className="flex items-center justify-between">
              <p className="text-3xl text-[#0755E9] font-bold">
                {summary?.data?.data?.totalEmployees}
              </p>
              <div className="h-10 w-10 rounded-full bg-[#0755E9]/10 flex justify-center items-center">
                <svg
                  width="24"
                  height="13"
                  viewBox="0 0 24 13"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M18.2866 8.26848L18.6617 8.25871L18.9742 8.2509C18.6089 7.12972 18.732 6.10034 19.6071 5.22526C19.7555 5.70577 20.0895 6.10229 20.656 6.39528C20.9275 6.59647 21.1892 6.84063 21.4431 7.11995C21.4881 6.93439 21.3181 6.70976 21.1091 6.47732C21.3025 6.57303 21.4783 6.70585 21.6053 6.96173C21.7518 7.25863 21.7498 7.51061 21.701 7.83094C21.6775 7.98135 21.6424 8.12003 21.5896 8.24895H22.1073C22.6542 7.07698 22.3065 5.33855 21.1873 4.60217C20.8435 4.37754 20.5974 4.38535 20.195 4.38535C19.734 4.38535 19.4977 4.39902 19.1031 4.66076C18.521 5.04556 18.1636 5.71163 18.0132 6.63749C17.9839 7.10042 17.9624 7.89736 18.2866 8.26848ZM0 12.4231C0.0449255 11.1574 1.97477 11.1066 3.15846 10.3683L3.95149 12.4231H0ZM5.55514 11.7277H5.7114C5.85204 11.7277 5.96728 11.6125 5.96728 11.4719V11.0578C5.96728 10.9171 5.85204 10.8019 5.7114 10.8019H4.78555C4.64491 10.8019 4.52967 10.9171 4.52967 11.0578V11.4719C4.52967 11.6125 4.64491 11.7277 4.78555 11.7277H4.94376L4.80703 12.4231H5.68796L5.55514 11.7277ZM3.93587 9.47561C3.96517 9.23536 3.25612 8.44428 3.12525 8.00674C2.84789 7.5653 2.74827 7.10628 3.05103 6.63944C3.17213 6.45388 3.12135 5.95189 3.12135 5.69601C3.12135 3.15674 7.57093 3.15478 7.57093 5.69601C7.57093 6.01634 7.4967 6.43435 7.67055 6.68827C7.96159 7.11018 7.81118 7.61608 7.56507 8.00869C7.40881 8.46967 6.6646 9.21582 6.71539 9.47756C6.76032 10.7785 3.9261 10.7355 3.93587 9.47561ZM11.2548 8.97752L12.3682 12.2493L12.9288 10.3077L12.6534 10.0089C12.5284 9.8272 12.503 9.67094 12.5713 9.53421C12.7198 9.24122 13.0265 9.29395 13.3136 9.29395C13.6144 9.29395 13.9875 9.23731 14.0812 9.61429C14.1125 9.74126 14.0734 9.87213 13.9855 10.0089L13.7101 10.3077L14.2707 12.2493L15.2786 8.97752C16.5892 10.1593 19.232 9.4678 19.5524 12.4231H6.62945C6.96541 9.30958 9.93245 10.169 11.2548 8.97752ZM10.3465 4.64514C10.3524 4.82875 10.4481 5.07095 10.6376 5.35027L10.6415 5.35418L11.2646 6.34254C11.5146 6.73906 11.7724 7.13948 12.0967 7.43443C12.4034 7.7157 12.7784 7.90712 13.2706 7.90712C13.8058 7.90908 14.1945 7.70984 14.5129 7.41294C14.845 7.10237 15.1087 6.6746 15.3684 6.24683L16.0677 5.09635C16.2103 4.7721 16.2533 4.57482 16.2064 4.47911C16.181 4.42442 16.0833 4.40488 15.9271 4.4127C15.8196 4.44395 15.6927 4.442 15.5442 4.40098L15.8275 3.31495C13.6339 3.54153 12.3994 1.48863 10.8368 3.04931L11.0439 4.33457C10.7899 4.38731 10.3309 4.22323 10.3465 4.64514ZM16.2513 4.04157C16.3978 4.0865 16.5052 4.17049 16.5697 4.30136C16.6752 4.51232 16.6322 4.82484 16.4349 5.2741C16.431 5.28191 16.4271 5.28972 16.4232 5.29754L15.7142 6.46365C15.4388 6.91485 15.1614 7.36802 14.7883 7.71765C14.4016 8.08097 13.9211 8.32513 13.2667 8.32122C12.6553 8.31927 12.1944 8.08682 11.8174 7.74109C11.4541 7.40904 11.1786 6.98322 10.915 6.56522L10.2938 5.57686C10.0633 5.23308 9.94417 4.9186 9.93635 4.65881C9.93245 4.5338 9.95393 4.42246 10.0008 4.32089C10.0496 4.21737 10.1239 4.12752 10.2254 4.05915C10.2743 4.0279 10.3309 3.9986 10.3895 3.97712C10.3505 3.44387 10.3368 2.78366 10.3641 2.22893C10.3778 2.09415 10.4032 1.95937 10.4403 1.8246C10.5985 1.25619 10.9989 0.801076 11.4912 0.484644C11.665 0.37526 11.8545 0.281502 12.0576 0.20923C13.253 -0.222445 14.8352 0.0119487 15.6829 0.929992C16.0286 1.30307 16.2455 1.7992 16.2923 2.45551L16.2513 4.04157ZM19.7125 10.3995L19.9919 9.42678L19.8551 9.27637C19.7926 9.18652 19.7809 9.10644 19.8141 9.04003C19.8883 8.89353 20.0426 8.92088 20.1852 8.92088C20.3356 8.92088 20.5212 8.89158 20.5681 9.08105C20.5837 9.14355 20.5642 9.20996 20.5212 9.27833L20.3845 9.42873L20.6638 10.4015L20.1872 10.7785L19.7125 10.3995ZM22.2186 10.0616C22.0057 9.63578 21.7381 9.27442 21.4236 8.9365C22.0135 9.16504 22.6171 9.38967 23.0624 9.67094C23.3456 9.84869 23.4941 9.98346 23.6074 10.1983C23.8515 10.6573 23.8789 11.0675 23.9141 11.5656L24 12.4251H20.5525C20.4587 12.0286 20.4079 11.6965 20.2126 11.257C20.8064 10.6671 21.4431 10.1905 22.2186 10.0616ZM17.9897 9.31935C18.3198 9.1748 18.6597 9.04979 18.9566 8.9365C18.7867 9.12011 18.6304 9.30958 18.4898 9.51077C18.3316 9.44436 18.1636 9.3799 17.9897 9.31935Z"
                    fill="#0755E9"
                  />
                </svg>
              </div>
            </div>
            <div>
              <p className="text-[#131313] mb-1 font-medium text-sm leading-[100%]">
                Total Employees
              </p>
              <p className="text-[#7D7D7D] text-xs leading-[100%]">
                {summary?.data?.data?.totalNewUsers} new employees added
              </p>
            </div>
          </div>
          <div className="bg-white rounded-2xl lg:w-[calc(20%-9.6px)] md:w-[calc(50%-6px)] w-full flex flex-col justify-between h-35 p-4">
            <div className="flex items-center justify-between">
              <p className="text-3xl text-[#28A745] font-bold">
                {" "}
                {summary?.data?.data?.present}
              </p>
              <div className="h-10 w-10 rounded-full bg-[#28A745]/10 flex justify-center items-center">
                <svg
                  width="19"
                  height="18"
                  viewBox="0 0 19 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M6.11377 10.9536L7.47135 14.9475L8.15479 12.5772L7.81925 12.2107C7.66773 11.9911 7.63525 11.7979 7.71875 11.6324C7.89966 11.2737 8.27539 11.3402 8.62638 11.3402C8.99439 11.3402 9.44743 11.2706 9.56185 11.7298C9.6005 11.8829 9.55257 12.0453 9.44434 12.2107L9.10881 12.5772L9.79224 14.9475L11.0215 10.9536C11.2859 11.1902 11.7018 11.3711 12.1842 11.5226C12.2569 11.4361 12.3342 11.351 12.4146 11.2706C13.112 10.5733 14.0768 10.1403 15.1422 10.1403C16.2075 10.1403 17.1708 10.5717 17.8697 11.2706C18.5671 11.968 19 12.9328 19 13.9981C19 15.0635 18.5686 16.0268 17.8697 16.7257C17.1724 17.423 16.2075 17.856 15.1422 17.856C14.335 17.856 13.5851 17.607 12.9651 17.1834H0.938558C0.349447 17.1385 0.0494792 16.8339 0 16.3067C0.149984 15.2908 0.191732 13.9626 0.810221 13.1446C1.03442 12.8478 1.31429 12.6282 1.62354 12.4566C2.60075 11.9107 5.22624 11.7515 6.11377 10.9536ZM13.1599 14.3275L13.8619 13.5915L14.8747 14.5656L16.4518 12.4643L17.2358 13.0967C16.8662 13.5544 15.5488 15.3619 15.2612 15.5969C15.0247 15.7902 14.6845 15.7902 14.4649 15.5784L13.1599 14.3275ZM17.4646 11.6757C16.8708 11.082 16.0498 10.714 15.1422 10.714C14.2345 10.714 13.4135 11.082 12.8197 11.6757C12.226 12.2695 11.858 13.0905 11.858 13.9981C11.858 14.9058 12.226 15.7268 12.8197 16.3206C13.4135 16.9143 14.2345 17.2823 15.1422 17.2823C16.0498 17.2823 16.8708 16.9143 17.4646 16.3206C18.0583 15.7268 18.4264 14.9058 18.4264 13.9981C18.4279 13.0905 18.0599 12.2695 17.4646 11.6757ZM5.46126 5.24188C5.56641 5.27126 5.67464 5.27435 5.78752 5.25115L5.59424 3.71885C5.6932 3.34002 5.84473 3.04469 6.04574 2.82822C6.25602 2.60247 6.51888 2.46177 6.83276 2.40146C7.2487 2.37209 7.37394 2.67514 7.78988 2.9411C9.05469 3.74977 10.1247 4.02191 11.6879 4.04201L11.4946 5.01922C11.4683 5.05942 11.4544 5.1089 11.4591 5.15993C11.4591 5.16766 11.4606 5.17694 11.4622 5.18467L11.4343 5.32383C11.4776 5.32692 11.5194 5.32846 11.5611 5.32692C11.5998 5.35011 11.6462 5.36248 11.6956 5.35784C11.9678 5.3331 12.1332 5.35784 12.1781 5.44907C12.2399 5.57277 12.1873 5.8248 12.0095 6.22991L11.1545 7.63852C10.8359 8.16269 10.5143 8.68686 10.1046 9.06878C9.71183 9.43678 9.22787 9.68109 8.56763 9.67954C7.95687 9.67799 7.49609 9.44297 7.11418 9.09507C6.71834 8.73325 6.39827 8.24 6.09521 7.75604L5.33602 6.54844L5.33293 6.5438C5.09945 6.1959 4.97884 5.89593 4.97266 5.66554C4.97111 5.58823 4.98193 5.5202 5.00822 5.46453C5.03141 5.41505 5.06698 5.37331 5.11646 5.33929C5.19841 5.28517 5.31283 5.2527 5.46126 5.24188ZM12.2121 4.96201L12.26 2.99521C12.2028 2.19582 11.9384 1.59124 11.5163 1.13511C10.4819 0.0156395 8.54907 -0.271958 7.09098 0.255304C6.84513 0.343439 6.6132 0.456313 6.40137 0.590835C5.79989 0.974298 5.31283 1.53249 5.11955 2.22519C5.07316 2.38909 5.04224 2.55299 5.02523 2.71689C4.9943 3.40651 5.01131 4.2291 5.06079 4.88315C4.99276 4.90944 4.93091 4.94036 4.87524 4.97747C4.75773 5.05633 4.6696 5.15993 4.61239 5.28208C4.55827 5.39959 4.53353 5.53257 4.53817 5.67946C4.54744 5.99025 4.69124 6.37062 4.96956 6.78501L5.72876 7.99106C6.04883 8.49822 6.38436 9.01776 6.82349 9.41977C7.27808 9.83571 7.83317 10.1171 8.57072 10.1202C9.36084 10.1218 9.93758 9.82952 10.4061 9.39194C10.8576 8.96828 11.1978 8.41782 11.5302 7.86891L12.3945 6.44484C12.3992 6.43711 12.4038 6.42783 12.4069 6.4201C12.6435 5.88356 12.6945 5.50937 12.5708 5.26198C12.4997 5.1089 12.3791 5.01304 12.2121 4.96201Z"
                    fill="#28A745"
                  />
                </svg>
              </div>
            </div>
            <div>
              <p className="text-[#131313] mb-1 font-medium text-sm leading-[100%]">
                Today’s Present
              </p>{" "}
              <p className="text-[#7D7D7D] text-xs leading-[100%]">
                {summary?.data?.data?.presentChange !== undefined && (
                  <span>
                    {Math.abs(summary.data.data.presentChange)}%{" "}
                    {summary.data.data.presentChange > 0
                      ? "increase"
                      : summary.data.data.presentChange < 0
                      ? "decrease"
                      : "no change"}{" "}
                    than yesterday
                  </span>
                )}
              </p>
            </div>
          </div>{" "}
          <div className="bg-white rounded-2xl lg:w-[calc(20%-9.6px)] md:w-[calc(50%-6px)] w-full flex flex-col justify-between h-35 p-4">
            <div className="flex items-center justify-between">
              <p className="text-3xl text-[#F43378] font-bold">
                {" "}
                {summary?.data?.data?.absent}
              </p>
              <div className="h-10 w-10 rounded-full bg-[#F43378]/10 flex justify-center items-center">
                <svg
                  width="19"
                  height="18"
                  viewBox="0 0 19 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fillRule="evenodd"
                    clipRule="evenodd"
                    d="M6.11377 10.9536L7.47135 14.9475L8.15479 12.5772L7.81925 12.2107C7.66773 11.9911 7.63525 11.7979 7.71875 11.6324C7.89966 11.2737 8.27539 11.3402 8.62638 11.3402C8.99439 11.3402 9.44743 11.2706 9.56185 11.7298C9.6005 11.8829 9.55257 12.0453 9.44434 12.2107L9.10881 12.5772L9.79224 14.9475L11.0215 10.9536C11.2859 11.1902 11.7018 11.3711 12.1842 11.5226C12.2569 11.4361 12.3342 11.351 12.4146 11.2706C13.112 10.5733 14.0768 10.1403 15.1422 10.1403C16.2075 10.1403 17.1708 10.5717 17.8697 11.2706C18.5671 11.968 19 12.9328 19 13.9981C19 15.0635 18.5686 16.0268 17.8697 16.7257C17.1724 17.423 16.2075 17.856 15.1422 17.856C14.335 17.856 13.5851 17.607 12.9651 17.1834H8.63257H0.938558C0.349447 17.1385 0.0494792 16.8339 0 16.3067C0.149984 15.2908 0.191732 13.9626 0.810221 13.1446C1.03442 12.8478 1.31429 12.6282 1.62354 12.4566C2.60075 11.9107 5.22624 11.7515 6.11377 10.9536ZM13.2573 12.9065L14.0413 12.1226C14.0923 12.0715 14.1758 12.0715 14.2284 12.1226L15.1793 13.0735L16.1302 12.1226C16.1812 12.0715 16.2647 12.0715 16.3173 12.1226L17.1012 12.9065C17.1523 12.9575 17.1523 13.041 17.1012 13.0936L16.1503 14.0445L17.1012 14.9955C17.1523 15.0465 17.1523 15.13 17.1012 15.1826L16.3173 15.9665C16.2663 16.0175 16.1828 16.0175 16.1302 15.9665L15.1793 15.0156L14.2284 15.9665C14.1773 16.0175 14.0938 16.0175 14.0413 15.9665L13.2573 15.1826C13.2063 15.1315 13.2063 15.048 13.2573 14.9955L14.2083 14.0445L13.2573 13.0936C13.2063 13.041 13.2063 12.9575 13.2573 12.9065ZM17.4661 11.6757C16.8724 11.082 16.0514 10.714 15.1437 10.714C14.2361 10.714 13.415 11.082 12.8213 11.6757C12.2275 12.2695 11.8595 13.0905 11.8595 13.9981C11.8595 14.9058 12.2275 15.7268 12.8213 16.3206C13.415 16.9143 14.2361 17.2823 15.1437 17.2823C16.0514 17.2823 16.8724 16.9143 17.4661 16.3206C18.0599 15.7268 18.4279 14.9058 18.4279 13.9981C18.4279 13.0905 18.0599 12.2695 17.4661 11.6757ZM5.46126 5.24188C5.56641 5.27126 5.67464 5.27435 5.78752 5.25115L5.59424 3.71885C5.6932 3.34002 5.84473 3.04469 6.04574 2.82822C6.25602 2.60247 6.51888 2.46177 6.83276 2.40146C7.2487 2.37209 7.37394 2.67514 7.78988 2.9411C9.05469 3.74977 10.1247 4.02191 11.6879 4.04201L11.4946 5.01922C11.4683 5.05942 11.4544 5.1089 11.4591 5.15993C11.4591 5.16766 11.4606 5.17539 11.4622 5.18467L11.4343 5.32383C11.4776 5.32692 11.5194 5.32846 11.5611 5.32692C11.5998 5.35011 11.6462 5.36248 11.6956 5.35784C11.9678 5.3331 12.1332 5.35784 12.1781 5.44907C12.2399 5.57277 12.1873 5.8248 12.0095 6.22991L11.1545 7.63852C10.8359 8.16269 10.5143 8.68686 10.1046 9.06878C9.71183 9.43678 9.22787 9.68109 8.56763 9.67954C7.95687 9.67799 7.49609 9.44297 7.11418 9.09507C6.71834 8.73325 6.39827 8.24 6.09521 7.75604L5.33602 6.54844L5.33293 6.5438C5.09945 6.1959 4.97884 5.89593 4.97266 5.66554C4.97111 5.58823 4.98193 5.5202 5.00822 5.46453C5.03141 5.41505 5.06698 5.37331 5.11646 5.33929C5.19841 5.28517 5.31283 5.2527 5.46126 5.24188ZM12.2121 4.96201L12.26 2.99521C12.2028 2.19582 11.9384 1.59124 11.5163 1.13511C10.4819 0.0156395 8.54907 -0.271958 7.09098 0.255304C6.84513 0.343439 6.6132 0.456313 6.40137 0.590835C5.79834 0.974298 5.31283 1.53094 5.118 2.22519C5.07161 2.38909 5.04069 2.55299 5.02368 2.71689C4.99121 3.40651 5.00977 4.2291 5.05925 4.88315C4.99121 4.90944 4.92936 4.94036 4.8737 4.97747C4.75619 5.05633 4.66805 5.15993 4.61084 5.28208C4.55672 5.39959 4.53198 5.53257 4.53662 5.67946C4.5459 5.99025 4.6897 6.37062 4.96802 6.78501L5.72721 7.99106C6.04728 8.49822 6.38281 9.01776 6.82194 9.41977C7.27653 9.83571 7.83162 10.1171 8.56917 10.1202C9.35929 10.1218 9.93604 9.82952 10.4045 9.39194C10.856 8.96828 11.1962 8.41782 11.5286 7.86891L12.393 6.44484C12.3976 6.43711 12.4023 6.42783 12.4054 6.4201C12.6419 5.88356 12.693 5.50937 12.5693 5.26198C12.4997 5.1089 12.3791 5.01304 12.2121 4.96201Z"
                    fill="#F43378"
                  />
                </svg>
              </div>
            </div>
            <div>
              <p className="text-[#131313] mb-1 font-medium text-sm leading-[100%]">
                Today’s Absent
              </p>{" "}
              <p className="text-[#7D7D7D] text-xs leading-[100%]">
                {summary?.data?.data?.absentChange !== undefined && (
                  <span>
                    {Math.abs(summary.data.data.absentChange)}%{" "}
                    {summary.data.data.absentChange > 0
                      ? "increase"
                      : summary.data.data.absentChange < 0
                      ? "decrease"
                      : "no change"}{" "}
                    than yesterday
                  </span>
                )}
              </p>
            </div>
          </div>{" "}
          <div className="bg-white rounded-2xl lg:w-[calc(20%-9.6px)] md:w-[calc(50%-6px)] w-full flex flex-col justify-between h-35 p-4">
            <div className="flex items-center justify-between">
              <p className="text-3xl text-[#C47301] font-bold">
                {" "}
                {summary?.data?.data?.leave}
              </p>
              <div className="h-10 w-10 rounded-full bg-[#C47301]/10 flex justify-center items-center">
                <svg
                  width="19"
                  height="21"
                  viewBox="0 0 19 21"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M13.205 0.855469V4.65547V0.855469ZM5.60498 0.855469V4.65547V0.855469ZM17.955 10.3555C17.955 6.77302 17.955 4.98132 16.8416 3.86887C15.7282 2.75642 13.9374 2.75547 10.355 2.75547H8.45498C4.87253 2.75547 3.08083 2.75547 1.96838 3.86887C0.85593 4.98227 0.85498 6.77302 0.85498 10.3555V12.2555C0.85498 15.8379 0.85498 17.6296 1.96838 18.7421C3.08178 19.8545 4.87253 19.8555 8.45498 19.8555M0.85498 8.45547H17.955H0.85498Z"
                    fill="#C47301"
                  />
                  <path
                    d="M15.3586 16.7214L14.155 16.0555V14.4091M17.955 16.0555C17.955 17.0633 17.5546 18.0298 16.842 18.7425C16.1293 19.4551 15.1628 19.8555 14.155 19.8555C13.1472 19.8555 12.1806 19.4551 11.468 18.7425C10.7553 18.0298 10.355 17.0633 10.355 16.0555C10.355 15.0476 10.7553 14.0811 11.468 13.3685C12.1806 12.6558 13.1472 12.2555 14.155 12.2555C15.1628 12.2555 16.1293 12.6558 16.842 13.3685C17.5546 14.0811 17.955 15.0476 17.955 16.0555Z"
                    fill="#C47301"
                  />
                  <path
                    d="M13.205 0.855469V4.65547M5.60498 0.855469V4.65547M17.955 10.3555C17.955 6.77302 17.955 4.98132 16.8416 3.86887C15.7282 2.75642 13.9374 2.75547 10.355 2.75547H8.45498C4.87253 2.75547 3.08083 2.75547 1.96838 3.86887C0.85593 4.98227 0.85498 6.77302 0.85498 10.3555V12.2555C0.85498 15.8379 0.85498 17.6296 1.96838 18.7421C3.08178 19.8545 4.87253 19.8555 8.45498 19.8555M0.85498 8.45547H17.955M15.3586 16.7214L14.155 16.0555V14.4091M17.955 16.0555C17.955 17.0633 17.5546 18.0298 16.842 18.7425C16.1293 19.4551 15.1628 19.8555 14.155 19.8555C13.1472 19.8555 12.1806 19.4551 11.468 18.7425C10.7553 18.0298 10.355 17.0633 10.355 16.0555C10.355 15.0476 10.7553 14.0811 11.468 13.3685C12.1806 12.6558 13.1472 12.2555 14.155 12.2555C15.1628 12.2555 16.1293 12.6558 16.842 13.3685C17.5546 14.0811 17.955 15.0476 17.955 16.0555Z"
                    stroke="#F6EAF8"
                    strokeWidth="1.71"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                </svg>
              </div>
            </div>
            <div>
              <p className="text-[#131313] mb-1 font-medium text-sm leading-[100%]">
                Today’s Leaves
              </p>{" "}
              <p className="text-[#7D7D7D] text-xs leading-[100%]">
                {summary?.data?.data?.leaveChange !== undefined && (
                  <span>
                    {Math.abs(summary.data.data.leaveChange)}%{" "}
                    {summary.data.data.leaveChange > 0
                      ? "increase"
                      : summary.data.data.leaveChange < 0
                      ? "decrease"
                      : "no change"}{" "}
                    than yesterday
                  </span>
                )}
              </p>
            </div>
          </div>{" "}
          <div className="bg-white rounded-2xl lg:w-[calc(20%-9.6px)] md:w-[calc(50%-6px)] w-full flex flex-col justify-between h-35 p-4">
            <div className="flex items-center justify-between">
              <p className="text-3xl text-[#9C27B0] font-bold">
                {" "}
                {summary?.data?.data?.late}
              </p>
              <div className="h-10 w-10 rounded-full bg-[#9C27B0]/10 flex justify-center items-center">
                <svg
                  width="19"
                  height="21"
                  viewBox="0 0 19 21"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M13.205 0.855469V4.65547V0.855469ZM5.60498 0.855469V4.65547V0.855469ZM17.955 10.3555C17.955 6.77302 17.955 4.98132 16.8416 3.86887C15.7282 2.75642 13.9374 2.75547 10.355 2.75547H8.45498C4.87253 2.75547 3.08083 2.75547 1.96838 3.86887C0.85593 4.98227 0.85498 6.77302 0.85498 10.3555V12.2555C0.85498 15.8379 0.85498 17.6296 1.96838 18.7421C3.08178 19.8545 4.87253 19.8555 8.45498 19.8555M0.85498 8.45547H17.955H0.85498Z"
                    fill="#9C27B0"
                  />
                  <path
                    d="M15.3586 16.7214L14.155 16.0555V14.4091M17.955 16.0555C17.955 17.0633 17.5546 18.0298 16.842 18.7425C16.1293 19.4551 15.1628 19.8555 14.155 19.8555C13.1472 19.8555 12.1806 19.4551 11.468 18.7425C10.7553 18.0298 10.355 17.0633 10.355 16.0555C10.355 15.0476 10.7553 14.0811 11.468 13.3685C12.1806 12.6558 13.1472 12.2555 14.155 12.2555C15.1628 12.2555 16.1293 12.6558 16.842 13.3685C17.5546 14.0811 17.955 15.0476 17.955 16.0555Z"
                    fill="#9C27B0"
                  />
                  <path
                    d="M13.205 0.855469V4.65547M5.60498 0.855469V4.65547M17.955 10.3555C17.955 6.77302 17.955 4.98132 16.8416 3.86887C15.7282 2.75642 13.9374 2.75547 10.355 2.75547H8.45498C4.87253 2.75547 3.08083 2.75547 1.96838 3.86887C0.85593 4.98227 0.85498 6.77302 0.85498 10.3555V12.2555C0.85498 15.8379 0.85498 17.6296 1.96838 18.7421C3.08178 19.8545 4.87253 19.8555 8.45498 19.8555M0.85498 8.45547H17.955M15.3586 16.7214L14.155 16.0555V14.4091M17.955 16.0555C17.955 17.0633 17.5546 18.0298 16.842 18.7425C16.1293 19.4551 15.1628 19.8555 14.155 19.8555C13.1472 19.8555 12.1806 19.4551 11.468 18.7425C10.7553 18.0298 10.355 17.0633 10.355 16.0555C10.355 15.0476 10.7553 14.0811 11.468 13.3685C12.1806 12.6558 13.1472 12.2555 14.155 12.2555C15.1628 12.2555 16.1293 12.6558 16.842 13.3685C17.5546 14.0811 17.955 15.0476 17.955 16.0555Z"
                    stroke="#F6EAF8"
                    strokeWidth="1.71"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                  />
                </svg>
              </div>
            </div>
            <div>
              <p className="text-[#131313] mb-1 font-medium text-sm leading-[100%]">
                Today’s Late Arrival
              </p>{" "}
              <p className="text-[#7D7D7D] text-xs leading-[100%]">
                {summary?.data?.data?.lateChange !== undefined && (
                  <span>
                    {Math.abs(summary.data.data.lateChange)}%{" "}
                    {summary.data.data.lateChange > 0
                      ? "increase"
                      : summary.data.data.lateChange < 0
                      ? "decrease"
                      : "no change"}{" "}
                    than yesterday
                  </span>
                )}
              </p>
            </div>
          </div>{" "}
        </div>
        <div className="flex flex-wrap gap-4 mt-4">
          <div className="lg:w-[calc(70%-8px)] w-full 2xl:w-[calc(80%-8px)] bg-white rounded-2xl pt-4 pr-5">
            <div className="flex flex-wrap items-center gap-4 mb-5 pl-5 text-[#131313]">
              <p className="w-full font-semibold lg:text-xl md:w-auto">
                Employee Work Hours
              </p>{" "}
              <div className="border border-l-[#000000]/20 md:w-px w-full md:h-5 h-px"></div>{" "}
              <div className="flex items-center">
                <Icon
                  icon="radix-icons:dot-filled"
                  className="text-2xl text-[#0755E9]"
                />
                <p className="text-sm">Total Employee</p>{" "}
              </div>{" "}
              <div className="flex items-center">
                <Icon
                  icon="radix-icons:dot-filled"
                  className="text-2xl text-[#22C55E]"
                />
                <p className="text-sm">Presents</p>{" "}
              </div>
            </div>
            <LineChart />
          </div>
          <div className="bg-[#E5EBF7] p-3  w-full lg:w-[calc(30%-8px)]  2xl:w-[calc(20%-8px)] rounded-2xl">
            <p className="text-xs text-[#131313] mb-3">Upcoming Events</p>
            <div className="flex items-end justify-between">
              <p className="font-semibold text-base border-b-2 w-max border-[#0755E9] mb-2">
                {upcomingEvent?.heading}
              </p>{" "}
              <p className="mb-2 text-sm text-[#7d7d7d]">
                {dayjs(upcomingEvent?.date).format("YYYY-MM-DD")}
              </p>
            </div>
            <img
              src={upcomingEvent?.coverImage}
              className="object-cover w-full rounded-lg 2xl:h-80 xl:h-65"
            />
          </div>
        </div>
      </div>
    </>
  );
}
